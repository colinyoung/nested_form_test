<%- return unless flash.keys.count > 0 %>

<div class="flash">
  <ul>
  <%- flash.each do |key, value| %>
    <%- if value.is_a?(ActiveModel::Errors) %>
      <%- value.messages.each do |field, errors| %>
        <%- unless errors.empty? %>
          <li><%= field.capitalize %> <%= errors.join(', ') %>.</li>
        <%- end %>
      <%- end %>
    <%- else %>
      <li><%= value %></li>
    <%- end %>
  <%- end %>
  </ul>
</div>